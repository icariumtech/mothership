import{j as e,r as t,R as s}from"./chunks/client-BRw6SIuC.js";function n({title:t,subtitle:s,rightText:n,hidden:a=!1}){return a?null:e.jsxs("header",{className:"terminal-header",children:[e.jsxs("div",{className:"terminal-header-left",children:[e.jsx("h1",{children:t}),s&&e.jsx("span",{className:"subtitle",children:s})]}),n&&e.jsx("div",{className:"terminal-header-right",children:n})]})}const a=["SYSTEM ONLINE","ALL SYSTEMS NOMINAL","STANDBY MODE","AWAITING ORDERS","QUANTUM FLUX DETECTED","STABILIZING FIELD","NEURAL INTERFACE ACTIVE","SYNAPTIC LINK STABLE","BIOMETRIC SCAN COMPLETE","IDENTITY CONFIRMED","HULL INTEGRITY: 98%","MINOR BREACH SEALED","LIFE SUPPORT: NOMINAL","O2 LEVELS: OPTIMAL","REACTOR CORE: STABLE","POWER OUTPUT: 100%","NAVIGATION READY","COORDINATES LOCKED","COMMS ARRAY: ONLINE","SIGNAL STRENGTH: FULL","SENSOR SWEEP: CLEAR","NO CONTACTS DETECTED","ENGINES: IDLE","FUEL: 87%","CARGO BAY: SECURE","CONTAINMENT HOLDING","ATMOSPHERIC PRESSURE: STABLE","GRAVITY: 1.0G","SCANNING...","ANALYSIS IN PROGRESS","PROCESSING...","DECRYPTING DATA","INITIALIZING...","BOOT SEQUENCE ACTIVE","CRYO BAY: EMPTY","ALL PODS DORMANT","MEDICAL: STANDBY","AUTO-DOC READY","WEAPONS: OFFLINE","SAFETY PROTOCOLS ENGAGED","SHIELDS: CHARGING","42% CAPACITY","JUMP DRIVE: READY","FTL AVAILABLE","RADIATION LEVELS: SAFE","DOSE: 0.3 mSv","TARGETING SYSTEMS: OFFLINE","PEACE MODE ACTIVE","DRONE BAY: SEALED","3 UNITS READY","MINING LASER: STANDBY","CAPACITOR CHARGED","EMERGENCY BEACON: ACTIVE","BROADCASTING SOS","WARP CORE: STABLE","CONTAINMENT AT 100%","AIRLOCK STATUS: SECURE","PRESSURE NOMINAL","LABORATORY: SEALED","QUARANTINE ACTIVE","BRIDGE ACCESS: GRANTED","WELCOME COMMANDER","UNKNOWN SIGNAL DETECTED","TRACKING SOURCE","HEAT SIGNATURE: ANOMALOUS","INVESTIGATING","PROXIMITY ALERT","OBJECT AT 200M","SYSTEM DIAGNOSTICS COMPLETE","NO ERRORS FOUND","FIRMWARE UPDATE AVAILABLE","VERSION 3.7.2","BACKUP POWER: 100%","BATTERIES FULL","WASTE RECYCLING: ACTIVE","EFFICIENCY: 94%","FOOD STORES: ADEQUATE","142 DAYS REMAINING","WATER PURIFICATION: ONLINE","RESERVES: 89%","SUIT TELEMETRY: NOMINAL","ALL CREW ACCOUNTED FOR","BLACK BOX: RECORDING","FLIGHT DATA LOGGED","AUTO-PILOT: ENGAGED","COURSE LOCKED","STELLAR CARTOGRAPHY","MAP UPDATE: 99%","ANOMALY DETECTED","CLASSIFICATION: UNKNOWN","TEMPORAL DRIFT: MINIMAL","CHRONOMETER SYNCED","EXOTIC MATTER: DETECTED","ANALYSIS PENDING","VOID EXPOSURE: MINIMAL","CREW SAFETY: GREEN","DARK MATTER READINGS","THRESHOLD EXCEEDED","SUBSPACE INTERFERENCE","COMPENSATING","ALIEN ARTIFACT DETECTED","ORIGIN: UNKNOWN","DISTRESS CALL RECEIVED","INVESTIGATING TRANSMISSION"];function l({title:s="MOTHERSHIP",subtitle:n="The Outer Veil"}){const l=t.useRef(null),i=t.useRef(null),r=t.useRef(null),E=t.useRef([]),c=t.useRef(null),A=t.useCallback(e=>{const t=(70*Math.random()-35).toFixed(0),s=(40*Math.random()-20).toFixed(0),n=(60*Math.random()-30).toFixed(0),a=(40*Math.random()-20).toFixed(0),l=(40*Math.random()-20).toFixed(0),i=(30*Math.random()-15).toFixed(0);e.style.setProperty("--glitch-x1",`${t}px`),e.style.setProperty("--glitch-y1",`${s}px`),e.style.setProperty("--glitch-x2",`${n}px`),e.style.setProperty("--glitch-y2",`${a}px`),e.style.setProperty("--glitch-x3",`${l}px`),e.style.setProperty("--glitch-y3",`${i}px`)},[]),o=t.useCallback(()=>{const e=Math.floor(4*Math.random())+1,t=[],s=[...a];for(let n=0;n<e;n++){const e=Math.floor(Math.random()*s.length);t.push("> "+s[e]),s.splice(e,1)}return t.join("\n")},[]),N=t.useCallback((e,t,s,n)=>{for(const a of E.current)if(!(e+s<a.x||e>a.x+a.width||t+n<a.y||t>a.y+a.height))return!0;return!1},[]),d=t.useCallback((e,t)=>{for(let s=0;s<50;s++){let s=80*Math.random()+10,n=80*Math.random()+10;if(s>30&&s<70&&n>30&&n<70&&(Math.random()>.5?s=s<50?s-35:s+35:n=n<50?n-35:n+35),!N(s,n,e,t))return{x:s,y:n}}return null},[N]),T=t.useCallback(()=>{const e=l.current;if(!e)return;const t=o(),s=t.split("\n").length,n=.6*Math.max(...t.split("\n").map(e=>e.length)),a=2*s,i=d(n,a);if(!i)return;const r=document.createElement("div");r.className="text-block",r.style.left=i.x+"%",r.style.top=i.y+"%",e.appendChild(r);const c={x:i.x,y:i.y,width:n,height:a};E.current.push(c);let A="",N=0;const T=setInterval(()=>{N<t.length?(A+=t[N],r.textContent=A,N++):clearInterval(T)},50);setTimeout(()=>{r.remove();const e=E.current.indexOf(c);e>-1&&E.current.splice(e,1)},6e3)},[o,d]),I=t.useCallback(()=>{T();const e=600*Math.random()+400;c.current=window.setTimeout(I,e)},[T]);return t.useEffect(()=>{const e=i.current,t=r.current;e&&A(e),t&&A(t);const s=()=>{e&&A(e)},n=()=>{t&&A(t)};null==e||e.addEventListener("animationiteration",s),null==t||t.addEventListener("animationiteration",n);const a=window.setTimeout(I,500);return()=>{null==e||e.removeEventListener("animationiteration",s),null==t||t.removeEventListener("animationiteration",n),clearTimeout(a),c.current&&clearTimeout(c.current)}},[A,I]),e.jsx("div",{className:"standby-view",ref:l,children:e.jsxs("div",{className:"standby-logo",children:[e.jsx("div",{className:"standby-text",ref:i,"data-text":s,children:s}),e.jsx("div",{className:"standby-subtitle",ref:r,children:n})]})})}function i({title:t,children:s,className:n=""}){return e.jsxs("div",{className:`panel-base border-all ${n}`,children:[e.jsx("div",{className:"dashboard-panel-header",children:e.jsx("h3",{children:t})}),e.jsx("div",{className:"dashboard-panel-content",children:s})]})}function r({campaignTitle:t="THE OUTER VEIL CAMPAIGN",crew:s=[],notes:n=[],starSystems:a=[],statusItems:l=[],onSystemSelect:r,onSystemMapClick:E,selectedSystem:c=null}){return e.jsxs("div",{className:"campaign-dashboard",children:[e.jsx("div",{className:"dashboard-top panel-base chamfer-bl-br border-all corner-line-bl-br",children:e.jsx("div",{className:"dashboard-top-content",children:t})}),e.jsxs("div",{className:"dashboard-left",children:[e.jsx(i,{title:"CREW",className:"chamfer-tr-bl corner-line-tr-bl",children:s.length>0?s.map((t,s)=>e.jsxs("p",{children:["> ",t]},s)):e.jsx("p",{children:"> No crew assigned"})}),e.jsx(i,{title:"NOTES",className:"chamfer-tr-bl corner-line-tr-bl",children:n.length>0?n.map((t,s)=>e.jsxs("p",{children:["> ",t]},s)):e.jsx("p",{children:"> No notes"})})]}),e.jsxs("div",{className:"dashboard-right",children:[e.jsx(i,{title:"STAR MAP",className:"chamfer-tl-br corner-line-tl-br",children:a.length>0?a.map(t=>e.jsxs("div",{className:"star-system-row "+(c===t.name?"selected":""),onClick:()=>null==r?void 0:r(t.name),children:[e.jsxs("div",{className:"star-system-content",children:[e.jsx("div",{className:"star-system-checkbox "+(c===t.name?"checked":"")}),e.jsx("div",{className:"star-system-name",children:t.name})]}),t.hasSystemMap&&e.jsx("div",{className:"system-map-btn-container",title:"View system map",onClick:e=>{e.stopPropagation(),null==E||E(t.name)},children:e.jsx("span",{className:"system-map-btn-icon",children:"â–¶"})})]},t.name)):e.jsx("p",{children:"> No star systems found"})}),e.jsx(i,{title:"STATUS",className:"chamfer-tl-br corner-line-tl-br",children:l.length>0?l.map((t,s)=>e.jsxs("p",{children:["> ",t]},s)):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"> All systems nominal"}),e.jsx("p",{children:"> Course steady"})]})})]}),e.jsxs("div",{id:"system-info-panel",className:"system-info-panel "+(c?"visible":""),children:[e.jsx("div",{className:"dashboard-panel-header",children:e.jsx("h3",{id:"system-info-name",children:c||"SYSTEM INFO"})}),e.jsx("div",{className:"dashboard-panel-content",children:e.jsx("div",{id:"system-info-content"})})]}),e.jsx("div",{className:"system-info-indicator-boxes "+(c?"visible":"")}),e.jsx("div",{className:"system-info-rectangle "+(c?"visible":"")}),e.jsx("div",{className:"system-info-triangle "+(c?"visible":"")})]})}function E(){var s,a,i,E,c;const[A,o]=t.useState((null==(s=window.INITIAL_DATA)?void 0:s.activeView)||null),[N,d]=t.useState(null);t.useEffect(()=>{const e=setInterval(async()=>{try{const e=await fetch("/api/active-view/"),t=await e.json();t.updated_at!==(null==A?void 0:A.updated_at)&&(o(t),"CAMPAIGN_DASHBOARD"===t.view_type&&d(null))}catch(e){console.error("Failed to poll active view:",e)}},2e3);return()=>clearInterval(e)},[null==A?void 0:A.updated_at]);const T=(null==A?void 0:A.view_type)||"STANDBY",I="STANDBY"===T,S=(null==(a=window.INITIAL_DATA)?void 0:a.starSystems)||[],m=(null==(i=window.INITIAL_DATA)?void 0:i.crew)||["Dr. Elena Vasquez - Science Officer",'Marcus "Wrench" Chen - Engineer',"Lt. Sarah Kim - Security","Alex Novak - Pilot"],R=(null==(E=window.INITIAL_DATA)?void 0:E.notes)||["Investigating anomalous readings","Specimen requires containment","Station comms experiencing intermittent interference"],h=(null==(c=window.INITIAL_DATA)?void 0:c.campaignTitle)||"THE OUTER VEIL CAMPAIGN";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"scanline-overlay"}),e.jsx(n,{title:"MOTHERSHIP",subtitle:"TERMINAL",rightText:"STATION ACCESS",hidden:I}),"STANDBY"===T&&e.jsx(l,{title:"MOTHERSHIP",subtitle:"The Outer Veil"}),"CAMPAIGN_DASHBOARD"===T&&e.jsx(r,{campaignTitle:h,crew:m,notes:R,starSystems:S,selectedSystem:N,onSystemSelect:e=>{d(t=>t===e?null:e)},onSystemMapClick:e=>{console.log("Navigate to system map:",e)}}),"STANDBY"!==T&&"CAMPAIGN_DASHBOARD"!==T&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"var(--color-text-muted)"},children:['View type "',T,'" not yet implemented in React']})]})}const c=document.getElementById("shared-console-root");c&&s.createRoot(c).render(e.jsx(E,{}));
//# sourceMappingURL=shared-console.bundle.js.map
